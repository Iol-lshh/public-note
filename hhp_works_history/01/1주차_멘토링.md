
# 1. 
- AWS를 공부하면서, 다음과 같은 궁금점이 생겼습니다. 
    - 모든 병목은 디비(io)에서 발생한다고 할 수 있을텐데요.
    - 컴포즈를 통해 서비스를 구성할 때, CQRS로써 읽기 DB(슬레이브)를 구성하려고 합니다.
        - 이런 모델.. 괜찮을까요..?
    - 고려할만하다면, Fargate로 ECS위에 디비를 올릴 경우, 어느정도 사양(제한)을 필요로 할까요? cpu 처리량, 예상 트래픽, 데이터 규모 등 고려해야할 점과 신경쓰지 않아도 될 것들에는 무엇이 있을까요..? 디비는 EC2가 나을까요?
    - 각각 유형에 대해 **실무에서의** 일반적인 베스트 프렉티스 사양은 어떨지, 알고 싶습니다.
        1. 마스터성 데이터 (쓰기보다 읽기가 빈번한 경우 ⇒ CQRS)
        2. 로그성 데이터
            1. 동시성이 중요한 경우
            2. OLAP성 쿼리가 필요한 경우 (통계적 사용이 중요한 경우)
        3. 로그 데이터 (읽기보다 쓰기가 중요한 경우)
- A: db는 마스터와 슬레이브가 가까운 경우가 일반적
    - 중요도에 따라 비율을 맞춘다. 다만, 마스터에 중심을 맞추고, 슬레이브는 필요할때마다 추가.
    - 또한 목적성에 맞춰 데이터베이스를 선정
        - 

# 2. 
- AWS에서 제공하는 RDS의 이점이 뭘까요.. 서비스를 구성하는 머신이 io를 더 잘 처리한다..? 그저 관리 기능을 미리 준비해준다..? 특성화된 기능을 직접 구현하여 인스턴스 올리는 것에 비해 가격이 싸다..?
- A: RDS vs EC2 + DBA
    - RDS가 좀 더 비싸지만 관리가 용이하여, 관리 비용이 줄어들 수 있다.

# 3. 
- 추가로, 만약 여러개의 WAS로 비즈니스가 분리되야한다면, 분산 트랜잭션 구현이 가장 중요한 부분중 하나일텐데요.
    - 분리된 서비스 구성에서 분산 트랜잭션을 사가 패턴으로 구현하려 할때, 보상 트랜잭션을 어떻게 구현하는 것이 **실제 실무에서** 베스트 프렉티스일까요?
        - 보상 트랜잭션을 취소 행위라는 하나의 이벤트로 인식하면 될까요?
            - ex) 구매 행위 → (결제, 결제 취소), (배송, 배송 취소), (재고, 재고 취소)
        - 보상 트랜잭션이 실패할 경우, 어떻게 처리되어야 하나요?
            - 트랜잭션의 각 이벤트 요청을 메세지 브로커를 통해 딱 한번만 처리로 구현했을 경우, 문제가 없을까요?
- A: 사가에 대한 예시
    - 상태의 분화: 요청 상태 >  대기 상태 > 처리(성공/실패) 상태

# 4. 
- 도커 컴포즈는 3버전이 되면서, 헬스 체크 기능이 포팅되지 못했습니다. 이에 대한 해결 방안을 찾아보았는데요 [스택오버플로우](https://stackoverflow.com/questions/31746182/docker-compose-wait-for-container-x-before-starting-y) 어떻게 컴포즈를 작성하고 계신가요..? 로컬이야, 여러번 compose up을 시도하면 된다지만, ci/cd로 구축된 각 서버에선 실제론 어떻게 처리되는지 궁금합니다.
- A: 컴포즈는 로컬 개발 환경에서만
    - 다양한 환경 구성 툴 이용

# 5. 
- 핫픽스의 경우, 다른 페이즈를 거치지 않고, 바로 프로덕트에 반영되는 것으로 알고 있는데요. 이때, 다른 브랜치에 핫픽스의 내용을 어떻게 반영하게 되는지 궁금합니다. 모든 브랜치마다 각각 들어가 커밋을 땡기나요? 혹은 한번에 자동화되어 처리할 수 있나요? ci/cd 과정에서 한번에 처리될 수 있어서 그렇게 처리하시나요? dev 브랜치에만 커밋을 넣고, 모든 그 이상 phase의 다른 브랜치를 다시 리베이스 시키나요?

## cpg_flow
![cpg_flow](./img/cpg_flow.png)

## onl_flow
![onl_flow](./img/onl_flow.png)


# 멘토링
- 각 페이즈별 조건 세분화
    - pull request와 push 분리
        - pull request: 배포 적합성 테스트
        - push: 승인 후, 배포
        - 등..
- 환경변수 secret 관리
    - 깃헙과 aws 분리 
        - 목록 추후 제공



