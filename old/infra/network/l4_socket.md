# L4 소켓
1. tcp/ip 소켓 (tcp 소켓)
    - l3와 l4에 걸친 연결
        - l3 ip
        - l4 tcp 정보
    - 서버 포트: [ip address:port]
        - 클라이언트에서 서버 포트 주소를 이용해서 서버 소켓에 연결을 시도
    - 클라이언트 포트: 
        - 서버는 클라이언트의 요청시에, 단기(ephemeral) 포트를 생성
    - 스트림 Stream
2. udp
    - 데이터그램 Datagram
- cf) **웹소켓**은 HTTP 기반으로 만들어진, 특수한 기능의 `ws://` 프로토콜을 사용하는 **L7 소켓**

## 방식
### 멀티 프로세싱
    - 컨텍스트 스위칭 이슈
    - 송수신이 끊김없이 연속적일 때 유리

### 멀티 스레딩
    - 스레드 간 메모리 공유
        - 동시성 이슈

### 멀티 플렉싱
    - 하나의 전송로
    - I/O 멀티 플렉싱
        - 클라이언트와 입출력 프로세스를 하나로 묶음
    - 논블로킹 핸들러와 콜백
    - 하나의 프로세스, 하나의 스레드

## 구조
### 소켓 라이브러리
- 소켓 프로그래밍을 위한 API(응용 프로그램 인터페이스)를 제공하는 라이브러리
    - Winsock (Windows용)
    - BSD 소켓 (유닉스 및 유닉스 계열 운영체제용)
- 소켓을 생성하고 관리하며, 데이터를 주고받을 수 있게 한다.

### 소켓 시스템 콜
- 운영체제 커널에 의해 제공 
- 운영체제 수준에서 소켓 기능을 제어하기 위한 시스템 콜
    - 저수준의 네트워크 작업을 수행
        - 네트워크 연결
        - 데이터 전송
        - 에러 처리 등
- 소켓 라이브러리를 사용하여 소켓 시스템 콜을 호출하고, 운영체제의 네트워크 스택과 상호작용하여 네트워크 통신을 수행

### 소켓 인터페이스
- 네트워크 응용 프로그램(어플리케이션)을 만들기 위한 인터페이스
- Unix I/O 함수들과 함께 사용되는 API(Application Programming Interface)
- 클라이언트 서버 트랜잭션 관리
    - 클라이언트와 서버는 소켓 인터페이스 함수를 호출하여 네트워크를 통해 효율적인 통신을 수행
    1. 서버 설정
        - 서버 포트 설정
            - 소켓을 생성하고, 포트에 바인딩
    2. 클라이언트 연결
        - 클라이언트 프로그램은 서버에 연결하기 위해 소켓(클라이언트 소켓)을 생성하고, 서버의 IP 주소와 포트 번호를 설정
        - 소켓 인터페이스 호출
    3. 데이터 송수신
        - 소켓 인터페이스를 통해 데이터 송수신
            - recv(), send()
    4. 연결 종료
        - 클라이언트, 서버는 통신이 끝나면, 소켓을 닫아 연결을 종료
            - close()
- TCP 소켓, UDP 소켓, RAW 소켓 등 다양한 유형의 소켓을 생성하고 제어