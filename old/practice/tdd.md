# 작성 순서
1. 케이스 작성
    - 성공 케이스
        - 정답 -> 정답
    - 실패 케이스
        - 요청 page가 0 보다 작으면 검색 실패
        - 요청 pagesize가 0 보다 작으면 실패
        - 요청 pagesize가 100보다 크면 실패
        - 요청 키워드가 비어있으면 실패
2. 구성 작성
    - 필요한 클래스
        - 도메인, 엔티티, DTO
3. 비즈니스 작성
4. 테스트 확인
    - 스터빙 방식
        - input -> output
        - 상태를 가짜로 만든다.
            - vs 행위를 가짜로 만든다. Mocking
        - 입력 값에 상관 없이, 정상적인 결과가 나오는 Stub 컴포넌트를 주입한다.

# 고려 사항
0. 비즈니스 - 유닛 테스트, 통합 테스트
1. 동시성에 대한 데이터 정합성 - 통합 테스트
    - 경합에 대한 잠금 처리
2. 외부 의존성에 대한 서킷 브레이커 - 통합 테스트
    - 디비, 외부 API

# 검증
- 검증은 DTO에 맡긴다.
    - 정규식이나 타입 판단 등
- 비즈니스는 검증이 된 값이 들어왔다고 가정한다.
    - 검색 비즈니스에서..
        1. Parameter Object 검증 => DTO에 맡기고, 비즈니스 로직에서 제거
        2. 검색 API 요청
        3. 검색 결과 저장 => DB의 역할
        4. 검색 반환
    - 2, 3, 4가 검색 비즈니스의 주요 관심사.

# Repository
- Repository와 Controller는 단위테스트가 굳이 필요 없다.
    - 컨트롤러에는 단위 테스트 들어갈 일이 없다.
        - 통합 테스트로..
    - 데이터베이스 드라이버를 믿는다.
- 다만, 복잡한 쿼리의 DSL등을 사용시, 검증할 가치가 있다.

# 테스트 종류
1. Unit
2. Integration
    - Concurrency
3. E2E

# Unit test
## 테스트 방식
1. Mockist
    - mock 
    - 행위 검증 방식
2. Classicist
    - stub 
    - 상태 검증 방식

# 테스트 구현
- [Java SpringBoot에서의 Test](../java/spring/Test.md)
